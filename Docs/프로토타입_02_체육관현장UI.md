# 프로토타입 02: 체육관 현장 중심 UI/UX 설계

## 🏸 체육관 환경 분석

### 물리적 환경 제약사항
```javascript
const gymEnvironment = {
  lighting: {
    issues: "형광등 + 자연광 혼재, 그림자 많음",
    solution: "고대비 색상, 큰 폰트, 밝은 배경"
  },
  
  noise: {
    issues: "셔틀콕 치는 소리, 대화 소리, 에어컨",
    solution: "햅틱 피드백 + 큰 시각적 피드백"
  },
  
  space: {
    issues: "좁은 벤치, 가방 위에 폰 놓고 사용",
    solution: "세로 방향 최적화, 한 손 조작"
  },
  
  userState: {
    physical: "운동복, 땀, 장갑, 피곤함",
    mental: "집중, 흥분, 급함",
    solution: "큰 터치 영역, 실수 방지, 빠른 피드백"
  }
};
```

### 사용 시나리오별 UI 요구사항

#### 시나리오 1: 체육관 도착 (7:00 PM)
```javascript
const arrivalScenario = {
  context: {
    location: "체육관 입구/탈의실",
    userState: "가방 들고, 갈아입는 중",
    timeConstraint: "빨리 준비하고 들어가야 함",
    device: "한 손으로만 조작 가능"
  },
  
  primaryTask: "체크인 + 오늘 게임 정보 확인",
  
  uiRequirements: {
    accessibility: "한 손 엄지로만 조작",
    speed: "3초 내 완료",
    information: "핵심 정보만 (참가자 수, 코트 배정)",
    feedback: "성공 확인 (햅틱 + 시각)"
  },
  
  wireframe: `
  ┌─────────────────────┐
  │    🏸 동배즐        │
  ├─────────────────────┤
  │                     │
  │   [QR 스캔 버튼]     │  ← 화면의 80% 크기
  │      또는           │
  │   [도착 확인]        │  ← 엄지 닿기 쉬운 위치
  │                     │
  ├─────────────────────┤
  │ 오늘 참가자: 12명     │  ← 간단한 정보만
  │ 코트 A,B 사용       │
  └─────────────────────┘
  `
};
```

#### 시나리오 2: 게임 중 점수 입력 (8:00 PM)
```javascript
const gameplayScenario = {
  context: {
    location: "코트 옆 벤치",
    userState: "땀 흘림, 급함, 다른 사람들 기다림",
    timeConstraint: "즉시 처리 (10초 이내)",
    device: "한 손, 또는 급하게 두 손",
    interruption: "다른 사람들이 지켜봄"
  },
  
  primaryTask: "방금 끝난 게임 점수 입력",
  
  uiRequirements: {
    visibility: "멀리서도 보이는 큰 버튼",
    speed: "1탭으로 완료",
    errorPrevention: "실수해도 쉽게 수정",
    feedback: "확실한 완료 신호"
  },
  
  wireframe: `
  ┌─────────────────────┐
  │ 게임 결과 입력       │
  ├─────────────────────┤
  │                     │
  │  [철수&영희 승리]    │  ← 화면 상단 절반
  │                     │
  ├─────────────────────┤
  │                     │
  │  [민수&지혜 승리]    │  ← 화면 하단 절반  
  │                     │
  ├─────────────────────┤
  │    [되돌리기]        │  ← 5초간만 표시
  └─────────────────────┘
  `
};
```

#### 시나리오 3: 게임 종료 후 (9:00 PM)
```javascript
const afterGameScenario = {
  context: {
    location: "탈의실/체육관 밖",
    userState: "피곤하지만 만족, 여유로움",
    timeConstraint: "급하지 않음",
    device: "양손 사용 가능",
    social: "다른 사람들과 대화하며"
  },
  
  primaryTask: "오늘 소감 + 다음 게임 확인",
  
  uiRequirements: {
    emotional: "성취감 강화하는 디자인",
    social: "공유하고 싶게 만드는 요소",
    information: "개인 기록, 하이라이트",
    planning: "다음 활동 제안"
  },
  
  wireframe: `
  ┌─────────────────────┐
  │ 🎉 오늘 수고했어요!  │
  ├─────────────────────┤
  │ 📊 오늘의 기록       │
  │ • 경기: 4회          │
  │ • 승리: 3회 (75%)    │
  │ • MVP: 철수님        │
  ├─────────────────────┤
  │ 💭 한줄 소감         │
  │ [오늘 정말 재밌었어요] │
  ├─────────────────────┤
  │ 📅 다음 모임         │
  │ 수요일 오후 7시       │
  │ [참가 신청하기]       │
  └─────────────────────┘
  `
};
```

## 📱 핵심 화면 상세 설계

### 1. 홈 화면 - "지금 뭐 해야 하지?" 해결

#### 상황별 적응형 레이아웃
```javascript
const adaptiveHomeScreen = {
  // 평상시 (게임 전/후)
  normal: {
    layout: "카드 스택 방식",
    primaryCard: "다음 게임 일정",
    secondaryCards: ["최근 활동", "개인 기록"],
    quickActions: ["일정 보기", "채팅", "설정"]
  },
  
  // 게임 당일
  gameDay: {
    layout: "액션 중심 레이아웃",
    hero: "체크인 버튼 (화면의 60%)",
    info: "실시간 참가자 현황",
    emergency: "연락처, 위치, 주의사항"
  },
  
  // 게임 진행 중
  duringGame: {
    layout: "미니멀 조작 인터페이스",
    primary: "점수 입력 버튼",
    secondary: "현재 상황 표시",
    floating: "긴급 버튼 (도움 요청)"
  }
};
```

#### 실제 구현 가이드
```javascript
const homeScreenImplementation = {
  // React Native 컴포넌트 구조
  components: {
    StatusCard: {
      purpose: "현재 상황 한눈에 파악",
      variants: ["upcoming", "today", "inProgress", "completed"],
      design: "큰 아이콘 + 핵심 정보 + 액션 버튼"
    },
    
    QuickActionBar: {
      purpose: "자주 하는 3가지 액션만",
      items: ["참가신청", "현황확인", "채팅"],
      style: "하단 고정, 큰 터치 영역"
    }
  },
  
  // 상태 관리
  stateLogic: {
    gameStatus: "checkGameTiming() // 게임 전/중/후 판단",
    userRole: "getUserRole() // 신입/정기/운영진",
    adaptUI: "renderAdaptiveLayout(status, role)"
  },
  
  // 성능 최적화
  performance: {
    caching: "오늘 게임 정보 로컬 캐시",
    preloading: "다음 화면 미리 로드",
    offline: "네트워크 없어도 기본 정보 표시"
  }
};
```

### 2. 게임 현황판 - "지금 상황이 어때?" 실시간 해결

#### 정보 계층 구조
```javascript
const gameStatusHierarchy = {
  level1_critical: {
    info: "내 다음 상대, 내 차례까지 남은 시간",
    design: "화면 최상단, 가장 큰 폰트",
    color: "강조색 (주황/빨강)",
    update: "실시간"
  },
  
  level2_important: {
    info: "현재 진행 중인 모든 경기",
    design: "중간 크기, 스크롤 가능",
    color: "기본색",
    update: "30초마다"
  },
  
  level3_reference: {
    info: "전체 스케줄, 개인 기록",
    design: "작은 크기, 접을 수 있음",
    color: "회색",
    update: "필요시에만"
  }
};
```

#### 실시간 업데이트 UX
```javascript
const realTimeUX = {
  // 상태 변화 애니메이션
  updates: {
    scoreChange: {
      animation: "숫자 카운트업 + 색상 변화",
      duration: "1초",
      sound: "성공음 (옵션)"
    },
    
    turnChange: {
      animation: "내 차례 카드가 위로 슬라이드",
      vibration: "짧은 햅틱",
      notification: "상단 알림 배너"
    }
  },
  
  // 네트워크 상태 대응
  connectivity: {
    online: "실시간 Socket.io 업데이트",
    offline: "마지막 상태 유지 + 재연결 시 동기화",
    error: "'잠시 연결이 끊어졌어요' 친근한 메시지"
  }
};
```

### 3. 체크인 화면 - "빠르고 확실한 도착 확인"

#### QR 스캔 vs 버튼 체크인 하이브리드
```javascript
const checkinOptions = {
  qr: {
    장점: "빠름, 정확함, 자동화",
    단점: "카메라 권한, 조명 문제",
    fallback: "QR 인식 실패 시 버튼으로 전환"
  },
  
  button: {
    장점: "항상 작동, 단순함",
    단점: "실수 가능성",
    protection: "위치 기반 확인 + 시간 제한"
  },
  
  smartFlow: {
    primary: "QR 스캔 우선 제시",
    backup: "3초 후 '버튼으로 체크인' 옵션 표시",
    confirmation: "체크인 완료 후 환영 메시지"
  }
};
```

#### 위치 기반 자동 체크인
```javascript
const locationBasedCheckin = {
  technology: "Geofencing + Bluetooth Beacon",
  
  flow: {
    detection: "체육관 반경 100m 진입 감지",
    notification: "'체육관에 도착하셨나요?' 푸시 알림",
    action: "알림 터치 시 자동 체크인",
    confirmation: "성공 피드백 + 오늘 정보"
  },
  
  privacy: {
    permission: "위치 권한 명확한 설명",
    control: "수동 체크인 옵션 항상 제공",
    data: "위치 데이터 로컬 저장만"
  }
};
```

## 🎨 디자인 시스템 (체육관 특화)

### 색상 팔레트
```javascript
const gymOptimizedColors = {
  primary: {
    main: "#FF6B35", // 주황 - 활기차고 잘 보임
    light: "#FF8A65",
    dark: "#E64A19"
  },
  
  secondary: {
    main: "#2196F3", // 파랑 - 신뢰감, 차분함
    light: "#64B5F6",
    dark: "#1976D2"
  },
  
  success: "#4CAF50", // 초록 - 완료, 성공
  warning: "#FF9800", // 주황 - 주의, 대기
  error: "#F44336",   // 빨강 - 오류, 긴급
  
  // 체육관 환경 특화
  highContrast: {
    background: "#FFFFFF", // 순백색
    text: "#000000",       // 순검정
    border: "#E0E0E0"      // 연회색
  },
  
  // 감정별 색상
  emotional: {
    excitement: "#FF6B35",  // 설렘, 기대
    focus: "#2196F3",       // 집중, 몰입
    satisfaction: "#4CAF50", // 만족, 성취
    rest: "#9E9E9E"         // 휴식, 대기
  }
};
```

### 타이포그래피
```javascript
const gymOptimizedTypography = {
  // 체육관 환경에서 읽기 쉬운 폰트
  primary: {
    fontFamily: "NotoSans-Bold", // 굵고 명확
    sizes: {
      hero: 32,      // 메인 액션 버튼
      title: 24,     // 화면 제목
      body: 18,      // 일반 텍스트
      caption: 14    // 부가 정보
    }
  },
  
  // 거리별 가독성
  distance: {
    arm: "18px 이상",     // 팔 길이 (일반적)
    bench: "24px 이상",   // 벤치에서 볼 때
    standing: "32px 이상" // 서서 볼 때
  },
  
  // 상황별 폰트 크기
  contextual: {
    urgent: "32px + Bold",    // 긴급할 때
    relaxed: "18px + Regular", // 여유로울 때
    glance: "24px + Medium"   // 한눈에 볼 때
  }
};
```

### 터치 영역 및 제스처
```javascript
const touchOptimization = {
  // Apple HIG 기반 + 체육관 환경 보정
  minimumSize: {
    button: "44 x 44 pt",
    criticalAction: "60 x 60 pt", // 점수 입력 등
    quickAction: "80 x 80 pt"     // 체크인 등
  },
  
  // 한 손 조작 영역
  thumbReach: {
    easy: "화면 하단 1/3",
    medium: "화면 중간 1/3",
    hard: "화면 상단 1/3"
  },
  
  // 스와이프 제스처
  gestures: {
    quickParticipate: "오른쪽 스와이프 → 참가",
    quickCancel: "왼쪽 스와이프 → 취소",
    refresh: "아래로 당기기 → 새로고침"
  },
  
  // 실수 방지
  errorPrevention: {
    doubleTap: "중요한 액션은 더블탭",
    holdToConfirm: "위험한 액션은 길게 누르기",
    undoWindow: "5초간 되돌리기 버튼"
  }
};
```

## 🔧 기술 구현 가이드

### React Native 컴포넌트 아키텍처
```javascript
// 체육관 특화 컴포넌트 라이브러리
const GymComponents = {
  // 큰 터치 버튼
  LargeTouchButton: {
    props: ["size", "variant", "onPress", "hapticFeedback"],
    variants: ["primary", "secondary", "success", "warning"],
    sizes: ["normal", "large", "xl"],
    features: ["햅틱 피드백", "로딩 상태", "비활성화"]
  },
  
  // 실시간 카운터
  RealtimeCounter: {
    props: ["value", "label", "color", "animation"],
    animations: ["countUp", "pulse", "highlight"],
    features: ["Socket.io 연동", "오프라인 대응"]
  },
  
  // 상태 카드
  StatusCard: {
    props: ["status", "data", "actions"],
    statuses: ["waiting", "active", "completed", "error"],
    features: ["자동 새로고침", "스와이프 액션"]
  }
};
```

### 상태 관리 (Context + Reducer)
```javascript
// 체육관 세션 상태 관리
const GymSessionState = {
  checkedIn: false,
  currentGame: null,
  myTurn: false,
  waitingTime: 0,
  todayStats: {
    gamesPlayed: 0,
    wins: 0,
    currentStreak: 0
  }
};

const gymSessionReducer = (state, action) => {
  switch (action.type) {
    case 'CHECK_IN':
      return {
        ...state,
        checkedIn: true,
        checkinTime: Date.now()
      };
      
    case 'START_GAME':
      return {
        ...state,
        currentGame: action.payload,
        myTurn: true
      };
      
    case 'SCORE_UPDATE':
      return {
        ...state,
        todayStats: updateStats(state.todayStats, action.payload)
      };
  }
};
```

### Socket.io 실시간 연동
```javascript
const realtimeConnection = {
  // 연결 관리
  connect: () => {
    const socket = io(SERVER_URL, {
      transports: ['websocket', 'polling'],
      timeout: 5000
    });
    
    socket.on('gameUpdate', handleGameUpdate);
    socket.on('turnChange', handleTurnChange);
    socket.on('disconnect', handleDisconnect);
    
    return socket;
  },
  
  // 이벤트 핸들러
  handleGameUpdate: (data) => {
    dispatch({ type: 'GAME_UPDATE', payload: data });
    
    // 내 차례가 되면 햅틱 피드백
    if (data.nextPlayer === myUserId) {
      Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Medium);
    }
  },
  
  // 오프라인 대응
  handleDisconnect: () => {
    showOfflineBanner();
    startReconnectionAttempts();
  }
};
```

## 📐 레이아웃 가이드

### 화면별 그리드 시스템
```css
/* 홈 화면 - 카드 레이아웃 */
.home-screen {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 20px;
}

.status-card {
  min-height: 120px;
  border-radius: 12px;
  padding: 20px;
  /* 그림자로 터치 가능함 표시 */
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

/* 게임 현황 - 리스트 레이아웃 */
.game-status {
  display: grid;
  grid-template-rows: auto 1fr auto;
  height: 100vh;
}

.my-turn-card {
  background: #FF6B35;
  color: white;
  font-size: 24px;
  padding: 24px;
  text-align: center;
}

/* 점수 입력 - 분할 레이아웃 */
.score-input {
  display: grid;
  grid-template-rows: 1fr 1fr auto;
  height: 100vh;
  gap: 2px;
}

.team-button {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  font-weight: bold;
  border: none;
  cursor: pointer;
}

.team-a { background: #2196F3; color: white; }
.team-b { background: #FF6B35; color: white; }
```

## 🔄 다음 단계

이제 **프로토타입_03: 마이크로 인터랙션 및 애니메이션 설계**로 넘어가서 각 터치 순간의 세밀한 피드백을 설계하겠습니다.

**핵심 완성 사항:**
- ✅ 체육관 환경 제약사항 분석
- ✅ 시나리오별 UI 요구사항 정의  
- ✅ 상황별 적응형 화면 설계
- ✅ 기술 구현 가이드 제공

**다음 우선순위:**
1. 터치 순간의 피드백 설계 (햅틱, 애니메이션)
2. 감정 반영한 인터페이스 디테일
3. 실제 테스트 시나리오 및 검증 방법